<html>
<body>       
    <audio controls autoplay id="audio" src=""> </audio>
</body>

<script>

  const req = new XMLHttpRequest();
  req.open('POST', `https://tiktok-tts.weilnet.workers.dev/api/generation`, false);
  req.setRequestHeader('Content-Type', 'application/json');
  req.send(JSON.stringify({
    text: "Hello World in danger and unsafe",
    voice: "en_us_001"
  }));
  let resp = JSON.parse(req.responseText);
  document.getElementById('audio').src = `data:audio/mpeg;base64,${resp.data}`;
  console.log(resp);

   // const link = document.createElement('a');
 //   link.href = `data:audio/mpeg;base64,${resp.data}`;
  //  link.download = `Voice.mp3`;
//   link.click();

</script>

</body>
</html>